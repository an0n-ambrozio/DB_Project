{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/an0n-ambrozio/Documents/an0n-ambrozio/database-design/DB_Project/app/my-profile/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { User, Mail, Phone, Code, Briefcase, Calendar } from 'lucide-react';\n\ninterface Skill {\n    id: number;\n    skillName: string;\n}\n\ninterface CandidateData {\n    id: number;\n    name: string;\n    email: string;\n    phone: string | null;\n    status: string;\n    role: string;\n    updatedAt: string | Date;\n    skills: Skill[];\n}\n\nexport default function MyProfilePage() {\n    const [profile, setProfile] = useState<CandidateData | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [isEditing, setIsEditing] = useState(false);\n    const [formData, setFormData] = useState({\n        name: '',\n        phone: '',\n        skills: ''\n    });\n\n    useEffect(() => {\n        fetch('/api/candidate-profile')\n            .then(res => {\n                if (!res.ok) throw new Error('Failed to load');\n                return res.json();\n            })\n            .then(data => {\n                setProfile(data);\n                setFormData({\n                    name: data.name,\n                    phone: data.phone || '',\n                    skills: data.skills.map((s: Skill) => s.skillName).join(', ')\n                });\n                setLoading(false);\n            })\n            .catch(err => {\n                console.error(err);\n                setLoading(false);\n            });\n    }, []);\n\n    const handleSave = async () => {\n        const skillsArray = formData.skills.split(',').map(s => s.trim()).filter(s => s.length > 0);\n\n        const res = await fetch('/api/candidate-profile', {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                name: formData.name,\n                phone: formData.phone,\n                skills: skillsArray\n            })\n        });\n\n        if (res.ok) {\n            const updated = await res.json();\n            setProfile(updated);\n            setIsEditing(false);\n        }\n    };\n\n    if (loading) return (\n        <div className=\"flex items-center justify-center h-[50vh]\">\n            <div className=\"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\n        </div>\n    );\n\n    if (!profile) return <div className=\"text-white p-8\">Error loading profile.</div>;\n\n    return (\n        <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n            className=\"space-y-8\"\n        >\n            {/* Header Section */}\n            <header className=\"relative overflow-hidden rounded-2xl glass-panel p-8 border border-white/10\">\n                <div className=\"absolute top-0 right-0 p-8 opacity-20 pointer-events-none\">\n                    <div className=\"w-64 h-64 bg-primary/30 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2\" />\n                </div>\n\n                <div className=\"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6\">\n                    <div className=\"flex items-center gap-6\">\n                        <div className=\"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center text-3xl font-bold text-white shadow-lg shadow-primary/20\">\n                            {profile.name.charAt(0)}\n                        </div>\n                        <div>\n                            <h1 className=\"text-3xl font-bold text-white mb-2\">{profile.name}</h1>\n                            <div className=\"flex items-center gap-3 text-gray-400\">\n                                <span className=\"flex items-center gap-1.5 text-sm\">\n                                    <Briefcase size={14} />\n                                    {profile.role || 'Candidate'}\n                                </span>\n                                <span className=\"w-1 h-1 rounded-full bg-gray-600\" />\n                                <span className=\"flex items-center gap-1.5 text-sm\">\n                                    <Mail size={14} />\n                                    {profile.email}\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <button\n                        onClick={() => isEditing ? handleSave() : setIsEditing(true)}\n                        className=\"glass-btn glass-btn-primary px-8 py-3 rounded-xl font-semibold flex items-center gap-2\"\n                    >\n                        {isEditing ? 'Save Changes' : 'Edit Profile'}\n                    </button>\n                </div>\n            </header>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n                {/* Left Column: Personal Info & Status */}\n                <div className=\"space-y-8 lg:col-span-2\">\n                    <motion.div\n                        initial={{ opacity: 0, x: -20 }}\n                        animate={{ opacity: 1, x: 0 }}\n                        transition={{ delay: 0.1 }}\n                        className=\"glass-panel p-8 border-zinc-800 bg-[#0a0a0a]/50\"\n                    >\n                        <h2 className=\"text-xl font-bold text-white mb-6 flex items-center gap-2\">\n                            <User size={20} className=\"text-primary\" />\n                            Personal Information\n                        </h2>\n\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                            <div className=\"space-y-2\">\n                                <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider\">Full Name</label>\n                                {isEditing ? (\n                                    <input\n                                        className=\"glass-input w-full\"\n                                        value={formData.name}\n                                        onChange={e => setFormData({ ...formData, name: e.target.value })}\n                                    />\n                                ) : (\n                                    <div className=\"text-white text-lg font-medium\">{profile.name}</div>\n                                )}\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider\">Phone Number</label>\n                                {isEditing ? (\n                                    <input\n                                        className=\"glass-input w-full\"\n                                        value={formData.phone}\n                                        onChange={e => setFormData({ ...formData, phone: e.target.value })}\n                                        placeholder=\"+1 (555) 000-0000\"\n                                    />\n                                ) : (\n                                    <div className=\"flex items-center gap-2 text-white text-lg font-medium\">\n                                        <Phone size={16} className=\"text-gray-500\" />\n                                        {profile.phone || <span className=\"text-gray-600 italic\">Not provided</span>}\n                                    </div>\n                                )}\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider\">Email Address</label>\n                                <div className=\"text-white text-lg font-medium opacity-75\">{profile.email}</div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                                <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider\">Member Since</label>\n                                <div className=\"flex items-center gap-2 text-white text-lg font-medium\">\n                                    <Calendar size={16} className=\"text-gray-500\" />\n                                    {new Date().getFullYear()}\n                                </div>\n                            </div>\n                        </div>\n                    </motion.div>\n\n                    <motion.div\n                        initial={{ opacity: 0, x: -20 }}\n                        animate={{ opacity: 1, x: 0 }}\n                        transition={{ delay: 0.2 }}\n                        className=\"glass-panel p-8 border-zinc-800 bg-[#0a0a0a]/50\"\n                    >\n                        <h2 className=\"text-xl font-bold text-white mb-6 flex items-center gap-2\">\n                            <Code size={20} className=\"text-accent\" />\n                            Professional Skills\n                        </h2>\n\n                        {isEditing ? (\n                            <div className=\"space-y-2\">\n                                <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Add skills (comma separated)\n                                </label>\n                                <textarea\n                                    className=\"glass-input w-full h-32 resize-none\"\n                                    value={formData.skills}\n                                    onChange={e => setFormData({ ...formData, skills: e.target.value })}\n                                    placeholder=\"React, TypeScript, Node.js, UI/UX Design...\"\n                                />\n                                <p className=\"text-xs text-gray-500\">Separated by commas</p>\n                            </div>\n                        ) : (\n                            <div className=\"flex flex-wrap gap-3\">\n                                {profile.skills.length > 0 ? profile.skills.map((skill, i) => (\n                                    <motion.span\n                                        key={skill.id}\n                                        initial={{ opacity: 0, scale: 0.8 }}\n                                        animate={{ opacity: 1, scale: 1 }}\n                                        transition={{ delay: i * 0.05 }}\n                                        className=\"px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-gray-300 text-sm border border-white/5 transition-colors cursor-default flex items-center gap-2\"\n                                    >\n                                        <div className=\"w-1.5 h-1.5 rounded-full bg-accent/50\" />\n                                        {skill.skillName}\n                                    </motion.span>\n                                )) : (\n                                    <div className=\"text-gray-500 italic p-4 text-center w-full border border-dashed border-white/10 rounded-lg\">\n                                        No skills added yet. Click &quot;Edit Profile&quot; to highlight your expertise.\n                                    </div>\n                                )}\n                            </div>\n                        )}\n                    </motion.div>\n                </div>\n\n                {/* Right Column: Status Card */}\n                <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.3 }}\n                    className=\"glass-panel p-8 border-zinc-800 bg-gradient-to-b from-primary/5 to-transparent h-fit\"\n                >\n                    <h2 className=\"text-xl font-bold text-white mb-6\">Application Status</h2>\n\n                    <div className=\"flex flex-col items-center justify-center py-6 text-center\">\n                        <div className={`w-24 h-24 rounded-full flex items-center justify-center mb-4 transition-all duration-500\n                            ${profile.status === 'qualified' ? 'bg-green-500/20 text-green-400 shadow-[0_0_30px_rgba(34,197,94,0.2)]' :\n                                profile.status === 'rejected' ? 'bg-red-500/20 text-red-400 shadow-[0_0_30px_rgba(239,68,68,0.2)]' :\n                                    'bg-yellow-500/20 text-yellow-400 shadow-[0_0_30px_rgba(234,179,8,0.2)]'}`}>\n                            <Briefcase size={32} />\n                        </div>\n\n                        <h3 className=\"text-2xl font-bold text-white capitalize mb-1\">{profile.status}</h3>\n                        <p className=\"text-sm text-gray-500\">Current Application Stage</p>\n                    </div>\n\n                    <div className=\"mt-8 pt-8 border-t border-white/5 space-y-4\">\n                        <div className=\"flex justify-between text-sm\">\n                            <span className=\"text-gray-500\">Last Activity:</span>\n                            <span className=\"text-white font-medium\">{new Date(profile.updatedAt).toLocaleDateString()}</span>\n                        </div>\n                        <div className=\"flex justify-between text-sm\">\n                            <span className=\"text-gray-500\">Profile Strength:</span>\n                            <span className=\"text-primary font-medium\">85%</span>\n                        </div>\n                    </div>\n\n                    <button className=\"w-full mt-8 glass-btn hover:bg-white/5 text-gray-400 hover:text-white\">\n                        View Application History\n                    </button>\n                </motion.div>\n            </div>\n        </motion.div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}